(function(t){function e(e){for(var o,r,n=e[0],c=e[1],l=e[2],d=0,g=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&g.push(a[r][0]),a[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(g.length)g.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],o=!0,n=1;n<s.length;n++){var c=s[n];0!==a[c]&&(o=!1)}o&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var o={},a={app:0},i=[];function r(e){if(o[e])return o[e].exports;var s=o[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=o,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(s,o,function(e){return t[e]}.bind(null,o));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"1a8a":function(t,e,s){"use strict";var o=s("b5e8"),a=s.n(o);a.a},"1f13":function(t,e,s){"use strict";var o=s("4ec4"),a=s.n(o);a.a},"24a4":function(t,e,s){"use strict";var o=s("72b8"),a=s.n(o);a.a},4419:function(t,e,s){},"4ec4":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var o=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("navbar"),s("router-view")],1)},i=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-danger"},[s("router-link",{staticClass:"navbar-brand text-light stave-shadow-big",attrs:{to:{name:"Home"}}},[t._v(" Merry Scroogemas "),s("i",{staticClass:"fas fa-gifts"}),t._v(": ")]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",{staticClass:"nav-item",class:{active:"Home"==t.$route.name}},[s("router-link",{staticClass:"nav-link text-light",attrs:{to:{name:"Home"}}},[t._v("Home")])],1),t.$auth.isAuthenticated?s("li",{staticClass:"nav-item",class:{active:"Profile"==t.$route.name}},[s("router-link",{staticClass:"nav-link text-light",attrs:{to:{name:"Profile"}}},[t._v("Profile")])],1):t._e()]),s("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?s("button",{staticClass:"btn btn-success",on:{click:t.logout}},[t._v("logout")]):s("button",{staticClass:"btn btn-primary",on:{click:t.login}},[t._v(" Login ")])])])],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler bg-light",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],c=s("bc3a"),l=s.n(c),u=s("335d"),d={name:"Navbar",methods:{async login(){await this.$auth.loginWithPopup(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"))},async logout(){this.$store.dispatch("resetBearer"),await this.$auth.logout({returnTo:window.location.origin})}}},g=d,p=(s("1a8a"),s("2877")),v=Object(p["a"])(g,r,n,!1,null,null,null),m=v.exports,h={name:"App",async beforeCreate(){await Object(u["c"])(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"))},components:{Navbar:m}},b=h,f=(s("5c0b"),Object(p["a"])(b,a,i,!1,null,null,null)),w=f.exports,_=s("8c4f"),C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home scrooge-background container-fluid d-flex flex-column"},[s("div",{staticClass:"row text-light my-3 pr-3"},[t._m(0),s("div",{staticClass:"col-6 see-through shadow py-3 rounded"},[t._m(1),s("select",{directives:[{name:"model",rawName:"v-model",value:t.toggleView,expression:"toggleView"}],staticClass:"form-control",attrs:{id:"toggleView"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.toggleView=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"1"}},[t._v("All")]),s("option",{attrs:{value:"2"}},[t._v("Open")]),s("option",{attrs:{value:"3"}},[t._v("Closed")])])])]),1==t.toggleView?s("div",{staticClass:"row"},t._l(t.bugs,(function(t){return s("bugs-component",{key:t.id,attrs:{bugProp:t}})})),1):t._e(),2==t.toggleView?s("div",{staticClass:"row"},t._l(t.bugs,(function(t){return s("bugs-component",{directives:[{name:"show",rawName:"v-show",value:!t.closed,expression:"!iBug.closed"}],key:t.id,attrs:{bugProp:t}})})),1):t._e(),3==t.toggleView?s("div",{staticClass:"row"},t._l(t.bugs,(function(t){return s("bugs-component",{directives:[{name:"show",rawName:"v-show",value:t.closed,expression:"iBug.closed"}],key:t.id,attrs:{bugProp:t}})})),1):t._e()])},B=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-6 d-flex align-items-center stave-shadow-black"},[s("h1",[t._v("Track your Humbugs!")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"text-light stave-shadow-black",attrs:{for:"toggleView"}},[s("h5",[t._v("Filter by Status:")])])}],y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-link",{staticClass:"col-md-4 p-3",attrs:{to:{name:"Bug",params:{bugId:t.bugProp.id}}}},[s("div",{staticClass:"card see-through rounded"},[s("div",{staticClass:"card-header see-through-white"},[s("h5",{staticClass:"card-title"},[t._v(t._s(t.bugProp.title))]),s("h6",{staticClass:"card-subtitle text-muted"},[t._v("By: "+t._s(t.bugProp.creatorEmail))])]),s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-text"},[t._v(t._s(t.bugProp.description))])]),s("div",{staticClass:"card-footer see-through-white py-1"},[t.bugProp.closed?s("p",{staticClass:"text-danger mb-0"},[t._v("Status: Closed")]):t._e(),t.bugProp.closed?t._e():s("p",{staticClass:"mb-0"},[t._v("Status: Open")]),s("p",{staticClass:"mb-0"},[t.bugProp.closed?s("span",{staticClass:"text-danger"},[t._v("Closed on: "+t._s(new Date(t.bugProp.updatedAt).toUTCString()))]):t._e(),t.bugProp.closed?t._e():s("span",[t._v("Last Updated: "+t._s(new Date(t.bugProp.updatedAt).toUTCString()))])])])])])},N=[],x={name:"bugs-component",props:["bugProp"],components:{},data(){return{editedBug:{}}},mounted(){},computed:{},methods:{editBug(t){this.editedBug.id=t,this.$store.dispatch("editBug",this.editedBug),this.editToggle=!1}}},$=x,P=(s("a5ca"),Object(p["a"])($,y,N,!1,null,null,null)),k=P.exports,A={name:"home",data(){return{toggleView:1}},components:{bugsComponent:k},mounted(){this.$store.dispatch("getBugs")},computed:{bugs(){return this.$store.state.bugs}}},E=A,S=(s("1f13"),Object(p["a"])(E,C,B,!1,null,"ba704376",null)),O=S.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about scrooge-background container-fluid text-light stave-shadow-black py-3"},[s("h1",[t._v("Welcome "+t._s(t.profile.name))]),s("img",{staticClass:"rounded",attrs:{src:t.profile.picture,alt:""}}),s("p",[t._v(t._s(t.profile.email))]),s("router-link",{attrs:{to:{name:"Bugs"}}},[s("button",{staticClass:"btn btn-primary"},[t._v("Go to Your Humbugs")])])],1)},I=[],T={name:"Profile",computed:{profile(){return this.$store.state.profile}}},V=T,D=(s("24a4"),Object(p["a"])(V,j,I,!1,null,"ef1b42b2",null)),L=D.exports,H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid scrooge-background"},[s("div",{staticClass:"row p-2"},[s("div",{staticClass:"col-md-6 p-3"},[t.activeBug.closed||t.activeBug.creatorEmail!=t.$auth.userInfo.email.toLowerCase()?s("div",{staticClass:"text-light"},[s("h2",[t._v("Bah Humbug!")])]):t._e(),t.activeBug.closed||t.activeBug.creatorEmail!=t.$auth.userInfo.email.toLowerCase()?t._e():s("form",{staticClass:"see-through p-2 rounded",on:{submit:function(e){return e.preventDefault(),t.editActiveBug(e)}}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.editedBug.title,expression:"editedBug.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"New Bug Name..."},domProps:{value:t.editedBug.title},on:{input:function(e){e.target.composing||t.$set(t.editedBug,"title",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.editedBug.description,expression:"editedBug.description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Edit Description","aria-describedby":"helpId"},domProps:{value:t.editedBug.description},on:{input:function(e){e.target.composing||t.$set(t.editedBug,"description",e.target.value)}}})]),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Edit Bug")])])]),s("div",{staticClass:"col-md-6 p-3"},[t.activeBug.closed?t._e():s("form",{staticClass:"see-through p-2 rounded",on:{submit:function(e){return e.preventDefault(),t.createNote(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"noteContent"}},[t._v("Content")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newNote.content,expression:"newNote.content"}],staticClass:"form-control",attrs:{id:"exampleFormControlTextarea1",rows:"3",required:""},domProps:{value:t.newNote.content},on:{input:function(e){e.target.composing||t.$set(t.newNote,"content",e.target.value)}}})]),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Create Note")])])])]),s("div",{staticClass:"row  p-2"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"card see-through rounded shadow"},[s("div",{staticClass:"card-header see-through-white"},[s("h2",{staticClass:"card-title"},[t._v(t._s(t.activeBug.title))]),s("h6",{staticClass:"card-subtitle text-muted"},[t._v(" By: "+t._s(t.activeBug.creatorEmail)+" ")])]),s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-text"},[t._v(t._s(t.activeBug.description))])]),s("div",{staticClass:"card-footer see-through-white py-1 px-3"},[t.activeBug.closed?t._e():s("div",[t.activeBug.creatorEmail==t.$auth.userInfo.email.toLowerCase()?s("form",{staticClass:"mb-2",on:{submit:function(e){return e.preventDefault(),t.editActiveBug(e)}}},[s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.editedBug.closed,expression:"editedBug.closed"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"exampleCheck1"},domProps:{checked:Array.isArray(t.editedBug.closed)?t._i(t.editedBug.closed,null)>-1:t.editedBug.closed},on:{change:function(e){var s=t.editedBug.closed,o=e.target,a=!!o.checked;if(Array.isArray(s)){var i=null,r=t._i(s,i);o.checked?r<0&&t.$set(t.editedBug,"closed",s.concat([i])):r>-1&&t.$set(t.editedBug,"closed",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.editedBug,"closed",a)}}}),s("label",{staticClass:"form-check-label mb-1",attrs:{for:"exampleCheck1"}},[t._v("Close Bug (this can't be undone!)")])]),s("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"submit"}},[t._v(" Submit ")])]):s("div",[s("p",{staticClass:"mb-1"},[t._v("Status: Open")])])]),s("p",{staticClass:"mb-0"},[t.activeBug.closed?s("span",{staticClass:"text-danger"},[t._v("Closed on: "+t._s(new Date(t.activeBug.updatedAt).toUTCString()))]):s("span",[t._v("Last Updated: "+t._s(new Date(t.activeBug.updatedAt).toUTCString()))])])])])]),s("div",{staticClass:"col-md-6 scroll-x "},[t.activeNote.id?t._e():s("table",{staticClass:"table see-through table-sm "},[t._m(0),s("tbody",[t._l(t.notes,(function(t){return s("notes-component",{key:t.id,attrs:{noteProp:t}})})),t.notes[0]?t._e():s("tr",[s("td",[t._v(" No notes created ")]),s("td"),s("td",{staticClass:"text-center"}),s("td",{staticClass:"text-center"})])],2)]),t.activeNote.id?s("table",{staticClass:"table see-through"},[t._m(1),s("tbody",[s("td",[t._v(t._s(this.activeNote.content))]),s("td",[t._v(" "+t._s(this.activeNote.flagged)+" ")])])]):t._e(),t.activeNote.id?s("form",{staticClass:"see-through p-2",on:{submit:function(e){return e.preventDefault(),t.editNote(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"noteContent"}},[t._v("Content")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editedNote.content,expression:"editedNote.content"}],staticClass:"form-control",attrs:{id:"exampleFormControlTextarea1",rows:"3"},domProps:{value:t.editedNote.content},on:{input:function(e){e.target.composing||t.$set(t.editedNote,"content",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"status"}},[t._v("Choose Status:")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.editedNote.flagged,expression:"editedNote.flagged"}],staticClass:"form-control",attrs:{id:"status"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.editedNote,"flagged",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"pending"}},[t._v("pending")]),s("option",{attrs:{value:"completed"}},[t._v("completed")]),s("option",{attrs:{value:"rejected"}},[t._v("rejected")])])]),s("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v(" Edit Note (or Cancel) ")])]):t._e()])])])},U=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"see-through-white"},[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("Note")]),s("th",{attrs:{scope:"col"}},[t._v("Status")]),s("th",{attrs:{scope:"col"}},[t._v("Edit")]),s("th",{attrs:{scope:"col"}},[t._v("Delete")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"see-through-white"},[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("Note")]),s("th",{attrs:{scope:"col"}},[t._v("Status")])])])}],M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[t._v(" "+t._s(t.noteProp.content)),s("br"),s("span",{staticClass:"text-muted"},[t._v("By: "+t._s(t.noteProp.creatorEmail))])]),s("td",[t._v(" "+t._s(t.noteProp.flagged)+" ")]),s("td",{staticClass:"text-center"},[t.noteProp.creatorEmail==t.$auth.userInfo.email.toLowerCase()?s("i",{staticClass:"fas fa-pencil-alt",on:{click:function(e){return t.setActiveNote(t.noteProp.id)}}}):t._e()]),s("td",{staticClass:"text-center"},[t.noteProp.creatorEmail==t.$auth.userInfo.email.toLowerCase()?s("i",{staticClass:"fas fa-trash",on:{click:function(e){return t.deleteNote(t.noteProp.id)}}}):t._e()])])},Y=[],F={name:"notes-component",props:["noteProp"],components:{},data(){return{editedNote:{}}},mounted(){},computed:{},methods:{deleteNote(t){this.$store.dispatch("deleteNote",t)},setActiveNote(t){console.log("setActiveNote: id",t),this.$store.dispatch("createActiveNote",t)}}},q=F,z=Object(p["a"])(q,M,Y,!1,null,null,null),R=z.exports,G={name:"bug",components:{notesComponent:R},data(){return{newNote:{},editedBug:{},editedNote:{}}},props:["bugId"],mounted(){this.$store.dispatch("getActiveBug",this.$route.params.bugId),this.$store.dispatch("getNotesByBugId",this.$route.params.bugId)},computed:{activeBug(){return this.$store.state.activeBug},notes(){return this.$store.state.notes},activeNote(){return this.$store.state.activeNote}},methods:{createNote(){this.newNote.bug=this.activeBug.id,this.newNote.flagged="pending",console.log("new note",this.newNote),this.$store.dispatch("createNote",this.newNote)},editActiveBug(){console.log("edit bug",this.editedBug),this.$store.dispatch("editBug",this.editedBug)},editNote(){this.editedNote.id=this.activeNote.id,this.$store.dispatch("editNote",this.editedNote)},editNoteToggle(t){console.log("editToggle",t)}}},J=G,W=(s("c2db"),Object(p["a"])(J,H,U,!1,null,null,null)),X=W.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bugs container-fluid d-flex flex-column scrooge-background"},[s("div",{staticClass:"row my-3 p-3"},[s("div",{staticClass:"col-6 see-through shadow py-3 rounded"},[t._m(0),s("select",{directives:[{name:"model",rawName:"v-model",value:t.toggleView,expression:"toggleView"}],staticClass:"form-control",attrs:{id:"toggleView"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.toggleView=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"1"}},[t._v("All")]),s("option",{attrs:{value:"2"}},[t._v("Open")]),s("option",{attrs:{value:"3"}},[t._v("Closed")])])]),s("div",{staticClass:"col-6"},[t.formShow?t._e():s("button",{staticClass:"btn btn-primary",on:{click:t.formShowClick}},[t._v(" Report Bug ")]),t.formShow?s("form",{staticClass:"shadow p-3",on:{submit:function(e){return e.preventDefault(),t.createBug(e)}}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newBug.title,expression:"newBug.title"}],staticClass:"form-control",attrs:{type:"text",id:"bugTitle",placeholder:"Enter Bug Name...",required:""},domProps:{value:t.newBug.title},on:{input:function(e){e.target.composing||t.$set(t.newBug,"title",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newBug.description,expression:"newBug.description"}],staticClass:"form-control",attrs:{rows:"4",id:"bugDescription",placeholder:"Enter Description...",required:""},domProps:{value:t.newBug.description},on:{input:function(e){e.target.composing||t.$set(t.newBug,"description",e.target.value)}}})]),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Submit")]),s("button",{staticClass:"btn btn-danger mx-2",attrs:{type:"button"},on:{click:t.formShowCancel}},[t._v(" Cancel ")])]):t._e()])]),1==t.toggleView?s("div",{staticClass:"row"},t._l(t.bugs,(function(t){return s("bugs-component",{key:t.id,attrs:{bugProp:t}})})),1):t._e(),2==t.toggleView?s("div",{staticClass:"row"},t._l(t.bugs,(function(t){return s("bugs-component",{directives:[{name:"show",rawName:"v-show",value:!t.closed,expression:"!iBug.closed"}],key:t.id,attrs:{bugProp:t}})})),1):t._e(),3==t.toggleView?s("div",{staticClass:"row"},t._l(t.bugs,(function(t){return s("bugs-component",{directives:[{name:"show",rawName:"v-show",value:t.closed,expression:"iBug.closed"}],key:t.id,attrs:{bugProp:t}})})),1):t._e()])},K=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"text-light stave-shadow-black",attrs:{for:"toggleView"}},[s("h5",[t._v("Filter by Status:")])])}],Q={name:"bugs",mounted(){this.$store.dispatch("getProfile"),this.$store.dispatch("getBugs","?creatorEmail="+this.$auth.userInfo.email)},components:{bugsComponent:k},data(){return{newBug:{},toggleView:1,formShow:!1}},computed:{profile(){return this.$store.state.profile},bugs(){let t=this.$store.state.bugs;return console.log("bugs",t),this.$store.state.bugs}},methods:{createBug(){console.log("adding bug?"),console.log("newBug on Bug.vue",this.newBug),this.$store.dispatch("createBug",this.newBug),this.newBug={title:"",description:""},this.formShow=!1},formShowClick(){this.formShow=!0},formShowCancel(){this.formShow=!1}}},tt=Q,et=(s("7812"),Object(p["a"])(tt,Z,K,!1,null,null,null)),st=et.exports;o["a"].use(_["a"]);const ot=[{path:"/",name:"Home",component:O},{path:"/profile",name:"Profile",component:L,beforeEnter:u["b"]},{path:"/bugs",name:"Bugs",component:st,beforeEnter:u["b"]},{path:"/bugs/:bugId",name:"Bug",component:X,beforeEnter:u["b"]}],at=new _["a"]({routes:ot});var it=at,rt=s("2f62"),nt=s("3d20"),ct=s.n(nt);class lt{static async sweetDelete(t="Are you sure you want to close this Humbug!?",e="You will no longer be able to edit this or any of its contents!",s="Yes, close it down!"){try{let o=await ct.a.fire({title:t,text:e,icon:"error",showCancelButton:!0,confirmButtonColor:"#DC3545",cancelButtonColor:"#28A745",confirmButtonText:s});if(o.value)return!0}catch(o){}}static toast(t="You did a thing",e=3e3){ct.a.fire({title:t,icon:"success",timer:e,toast:!0,position:"top-right",showConfirmButton:!1})}}let ut=location.host.includes("localhost")?"http://localhost:3000/":"/";const dt=l.a.create({baseURL:ut+"api",timeout:1e4,withCredentials:!0});o["a"].use(rt["a"]);var gt=new rt["a"].Store({state:{profile:{},bugs:[],activeBug:{},notes:[],activeNote:{}},mutations:{setProfile(t,e){t.profile=e},setBugs(t,e){t.bugs=e},setActiveBug(t,e){t.activeBug=e},setActiveNote(t,e){t.activeNote=e},setNotes(t,e){t.notes=e},deleteNote(t,e){t.notes=t.notes.filter(t=>t.id!=e)}},actions:{setBearer({},t){dt.defaults.headers.authorization=t},resetBearer(){dt.defaults.headers.authorization=""},async getProfile({commit:t}){try{let e=await dt.get("profile");t("setProfile",e.data)}catch(e){console.error(e)}},async getBugs({commit:t},e){try{console.log("get bugs?");let s="bugs";e&&(s+=e);let o=await dt.get(s);console.log("get bugs",o),t("setBugs",o.data)}catch(s){console.error("cannot get bugs - sorry")}},async createBug({commit:t,state:e},s){console.log("createBug",s);let o=await dt.post("bugs/",s);console.log("createBug - res",o),t("setBugs",[...e.bugs,o.data]),it.push({name:"Bug",params:{bugId:o.data.id}})},async createNote({commit:t,state:e},s){try{console.log("createNote",s);let o=await dt.post("notes/",s);console.log("createNote - res",o),t("setNotes",[...e.notes,o.data])}catch(o){console.error("cannot get create note")}},async getActiveBug({commit:t},e){try{console.log("active bug id",e);let s=await dt.get("bugs/"+e);console.log("active bug res",s),t("setActiveBug",s.data)}catch(s){console.error("cannot get active board")}},async createActiveNote({commit:t,state:e},s){try{console.log("createActiveNote: id",s);let o=e.notes.filter(t=>t.id==s);console.log("createActiveNote: full data",o),t("setActiveNote",o[0])}catch(o){console.error("cannot get specific note")}},async getNotesByBugId({commit:t},e){try{console.log("notes store");let s=await dt.get("bugs/"+e+"/notes");console.log("res notes",s),t("setNotes",s.data)}catch(s){console.error("cannot get notes")}},async editBug({commit:t,state:e},s){try{if(s.closed){if(await lt.sweetDelete()){let o=await dt.put("bugs/"+e.activeBug.id,s);t("setActiveBug",o.data)}}else{let o=await dt.put("bugs/"+e.activeBug.id,s);t("setActiveBug",o.data)}}catch(o){console.error(o)}},async editNote({commit:t,state:e},s){try{console.log(s);let o=await dt.put("notes/"+s.id,s),a=e.notes.findIndex(t=>t.id==o.data.id);e.notes.splice(a,1,o.data),t("setActiveNote",{})}catch(o){console.error(o)}},async deleteNote({commit:t},e){await lt.sweetDelete("Are you sure you want to delete this note?","It will be gone for good!","Yes, delete please!")&&(await dt.delete("notes/"+e),t("deleteNote",e))}}});const pt="joshua-studebaker.us.auth0.com",vt="https://buglog-studeworks.com",mt="CjEZgBy6tX5G0tls4fLNAIzPcO843ixs";o["a"].use(u["a"],{domain:pt,clientId:mt,audience:vt,onRedirectCallback:t=>{it.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new o["a"]({router:it,store:gt,render:function(t){return t(w)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var o=s("9c0c"),a=s.n(o);a.a},"72b8":function(t,e,s){},7812:function(t,e,s){"use strict";var o=s("4419"),a=s.n(o);a.a},"7ba9":function(t,e,s){},"9c0c":function(t,e,s){},a5ca:function(t,e,s){"use strict";var o=s("de18"),a=s.n(o);a.a},b5e8:function(t,e,s){},c2db:function(t,e,s){"use strict";var o=s("7ba9"),a=s.n(o);a.a},de18:function(t,e,s){}});